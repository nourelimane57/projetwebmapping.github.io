<!DOCTYPE html>
<html lang="en">

<head>

    <title>manipulation de Raster</title>
    <link rel="icon" type="image/jpg" href="../logo11.png" />

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin="">
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>
   
    
    <script src="https://cdn-geoweb.s3.amazonaws.com/esri-leaflet/0.0.1-beta.5/esri-leaflet.js"></script>

    <script src="https://cdn-geoweb.s3.amazonaws.com/esri-leaflet-geocoder/0.0.1-beta.5/esri-leaflet-geocoder.js"></script>

    <link rel="stylesheet" type="text/css" href="https://cdn-geoweb.s3.amazonaws.com/esri-leaflet-geocoder/0.0.1-beta.5/esri-leaflet-geocoder.css">
    <style>
        html,
        body {
            height: 100%;
            margin: 0;
        }

        .leaflet-container {
            height: 400px;
            width: 600px;
            max-width: 100%;
            max-height: 100%;
        }
    </style>


</head>

<body>

    <div id="map"
        class="leaflet-container leaflet-touch leaflet-retina leaflet-fade-anim leaflet-grab leaflet-touch-drag leaflet-touch-zoom"
        tabindex="0" style="position: relative;">
        <div class="leaflet-pane leaflet-map-pane" style="transform: translate3d(-107px, 0px, 0px);">
            <div class="leaflet-pane leaflet-tile-pane">
                <div class="leaflet-layer " style="z-index: 1; opacity: 1;">
                    <div class="leaflet-tile-container leaflet-zoom-animated"
                        style="z-index: 18; transform: translate3d(0px, 0px, 0px) scale(1);"><img alt=""
                            role="presentation"
                            src="https://api.mapbox.com/styles/v1/mapbox/light-v9/tiles/9/106/193?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw"
                            class="leaflet-tile leaflet-tile-loaded"
                            style="width: 512px; height: 512px; transform: translate3d(-49px, -482px, 0px); opacity: 1;"><img
                            alt="" role="presentation"
                            src="https://api.mapbox.com/styles/v1/mapbox/light-v9/tiles/9/107/193?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw"
                            class="leaflet-tile leaflet-tile-loaded"
                            style="width: 512px; height: 512px; transform: translate3d(463px, -482px, 0px); opacity: 1;"><img
                            alt="" role="presentation"
                            src="https://api.mapbox.com/styles/v1/mapbox/light-v9/tiles/9/106/194?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw"
                            class="leaflet-tile leaflet-tile-loaded"
                            style="width: 512px; height: 512px; transform: translate3d(-49px, 30px, 0px); opacity: 1;"><img
                            alt="" role="presentation"
                            src="https://api.mapbox.com/styles/v1/mapbox/light-v9/tiles/9/107/194?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw"
                            class="leaflet-tile leaflet-tile-loaded"
                            style="width: 512px; height: 512px; transform: translate3d(463px, 30px, 0px); opacity: 1;">
                    </div>
                </div>
            </div>
            <div class="leaflet-pane leaflet-shadow-pane"><img
                    src="https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"
                    class="leaflet-marker-shadow leaflet-zoom-animated" alt=""
                    style="margin-left: -12px; margin-top: -41px; width: 41px; height: 41px; transform: translate3d(278px, 314px, 0px);"><img
                    src="https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"
                    class="leaflet-marker-shadow leaflet-zoom-animated" alt=""
                    style="margin-left: -12px; margin-top: -41px; width: 41px; height: 41px; transform: translate3d(300px, 191px, 0px);"><img
                    src="https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"
                    class="leaflet-marker-shadow leaflet-zoom-animated" alt=""
                    style="margin-left: -12px; margin-top: -41px; width: 41px; height: 41px; transform: translate3d(438px, 200px, 0px);"><img
                    src="https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"
                    class="leaflet-marker-shadow leaflet-zoom-animated" alt=""
                    style="margin-left: -12px; margin-top: -41px; width: 41px; height: 41px; transform: translate3d(125px, 163px, 0px);">
            </div>
            <div class="leaflet-pane leaflet-overlay-pane"></div>
            <div class="leaflet-pane leaflet-marker-pane"><img
                    src="https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png"
                    class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0"
                    style="margin-left: -12px; margin-top: -41px; width: 25px; height: 41px; transform: translate3d(278px, 314px, 0px); z-index: 314;"><img
                    src="https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png"
                    class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0"
                    style="margin-left: -12px; margin-top: -41px; width: 25px; height: 41px; transform: translate3d(300px, 191px, 0px); z-index: 191;"><img
                    src="https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png"
                    class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0"
                    style="margin-left: -12px; margin-top: -41px; width: 25px; height: 41px; transform: translate3d(438px, 200px, 0px); z-index: 200;"><img
                    src="https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png"
                    class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0"
                    style="margin-left: -12px; margin-top: -41px; width: 25px; height: 41px; transform: translate3d(125px, 163px, 0px); z-index: 163;">
            </div>
            <div class="leaflet-pane leaflet-tooltip-pane"></div>
            <div class="leaflet-pane leaflet-popup-pane"></div>
            <div class="leaflet-proxy leaflet-zoom-animated"
                style="transform: translate3d(54621px, 99498px, 0px) scale(512);"></div>
        </div>
        <div class="leaflet-control-container">
            <div class="leaflet-top leaflet-left">
                <div class="leaflet-control-zoom leaflet-bar leaflet-control"><a class="leaflet-control-zoom-in"
                        href="#" title="Zoom in" role="button" aria-label="Zoom in">+</a><a
                        class="leaflet-control-zoom-out" href="#" title="Zoom out" role="button"
                        aria-label="Zoom out">−</a></div>
            </div>
            <div class="leaflet-top leaflet-right">
                <div class="leaflet-control-layers leaflet-control" aria-haspopup="true"><a
                        class="leaflet-control-layers-toggle" href="#" title="Layers"></a>
                    <section class="leaflet-control-layers-list">
                        <div class="leaflet-control-layers-base"><label>
                                <div><input type="radio" class="leaflet-control-layers-selector"
                                        name="leaflet-base-layers_45" checked="checked"><span> Grayscale</span></div>
                            </label><label>
                                <div><input type="radio" class="leaflet-control-layers-selector"
                                        name="leaflet-base-layers_45"><span> Streets</span></div>
                            </label></div>
                        <div class="leaflet-control-layers-separator"></div>
                        <div class="leaflet-control-layers-overlays"><label>
                                <div><input type="checkbox" class="leaflet-control-layers-selector" checked=""><span>
                                        direction</span></div>

                            </label></div>
                    </section>
                </div>
            </div>
            <div class="leaflet-bottom leaflet-left"></div>
            <div class="leaflet-bottom leaflet-right">
                <div class="leaflet-control-attribution leaflet-control"><a href="https://leafletjs.com"
                        title="A JS library for interactive maps">Leaflet</a> | Map data © <a
                        href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery © <a
                        href="https://www.mapbox.com/">Mapbox</a></div>
            </div>
        </div>
    </div>

    <script>
        
        

        var mbAttr = 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>';
        var mbUrl = 'https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw';

        var grayscale = L.tileLayer(mbUrl, { id: 'mapbox/light-v9', tileSize: 512, zoomOffset: -1, attribution: mbAttr });
        var streets = L.tileLayer(mbUrl, { id: 'mapbox/streets-v11', tileSize: 512, zoomOffset: -1, attribution: mbAttr });

       
        
        var map = L.map('map', {
            center: [28.6241731401174, -8.300171703005156],
            zoom: 5,
            layers: [grayscale]
        });
        
        L.control.scale().addTo(map);

        
        // search 
        var searchControl = new L.esri.Controls.Geosearch().addTo(map);

        var results = new L.LayerGroup().addTo(map);

        searchControl.on('results', function(data){
            results.clearLayers();
            for (var i = data.results.length - 1; i >= 0; i--) {
            results.addLayer(L.marker(data.results[i].latlng));
            }
        });
        var geo2 = L.imageOverlay('precipitation2.PNG', [[36.204058526745555, -0.776659260500827],[21.344302597178743, -18.621662378168715]]).addTo(map);
        var geo = L.imageOverlay('precipitation.PNG', [[36.204058526745555, -0.776659260500827],[21.344302597178743, -18.621662378168715]]).addTo(map);
       
        var geo3 = L.imageOverlay('legende.PNG', [[22.569151764077525, 1.065025915067307],[25.037863352150712, 4.391420541217273],[22.569151764077525, 4.391420541217273],[25.037863352150712, 1.065025915067307]]).addTo(map);

        var baseLayers = {
            'Grayscale': grayscale,
            'Streets': streets
        };
     
      
        
        
        var overlays = {
            
            'precipitation en printemps de 2019' : geo,
            'precipitation en hiver de 2019' : geo2,
            'légende': geo3,
            
            

        };

        var layerControl = L.control.layers(baseLayers, overlays).addTo(map);
      
       
        
    </script>





</body>

</html>